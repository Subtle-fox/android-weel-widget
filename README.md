# android-wheel-widget
Wheel (or roller) widget for Android

Счетчик Wheel-widget (old: RollerView) реализован с возможностью вращения в прямом и обратном направлении, с плавным переходом от старого значения к новому.
При задании значений вручную или рандомом на граничных значениях 0000 и 9999 решено сделать полную перемотку счетчика.
Особый случай - это автоматический инкремент с 9999 - в таком случае идет именно инкремент на единицу в прямом направлении. Аналогично с декрементом от 0 - будет вращение на единицу в обратном направлении.
В остальных случаях ролики, представляющие разряд счетчика вращаются в ту сторону, куда изменяется "общее" число, а не в сторону ближайшей цифры для конкретного разряда.

Особенности:
- Текущее значение счетчика выведено под надписью "Demo" для сопоставления ожидаемого значения и того, что отображает счетчик.
- Кнопка Set Value задает число счетчику из текстового поля.
- Кнопка Random задает рандомное число счетчику.
- Кнопка Increment (Decrement) монотонно увеличивает (уменьшает) общее число на единицу каждую секунду. Любое нажатие на иные кнопки останавливает автоматическое обновление. При рестарте активити монотонная работа продолжается, если она работала до этого.
- Контрол поддерживает paddings, изменение размера до фиксированного минимального значения,

Основные классы:
- RollerView - UI control "Счетчик", отображает ролики счетчика, содержит логику расположения роликов, определение направления вращения и особых ситуация для граничных условий инкремента и декремента
- RollerViewItem - view, представляющий собой ролик счетчика. Содержит логику вычисления базовой линии и её анимированного смещения
- Cell - ячейка для отображения цифры, находящейся на одном из роликов, умеет себя отрисовывать по хранимым внутри координатам
- CellManager -  класс-менеджер для вычисления ячеек, которые отображаются на ролике счетчика в текущий момент времени. Умеет находить саму первую видимую ячейку по базовой линии, и следующие за ней. Ячейки переиспользуются, берутся из заранее созданного массива

TODO:
- Определение видимости счетчика на экране приложения покрывает не все ситуации (например, блокировка экрана).
- При включенном режиме Increment (Decrement) при сворачивании и разворачивании приложения анимация идет некорректно: она начинается со значения на момент сворачивания.
